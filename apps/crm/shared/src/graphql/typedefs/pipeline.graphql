# eslint-disable @graphql-eslint/require-description
# lint-disable-line relay-page-info-spec
# lint-disable types-have-descriptions, fields-have-descriptions

type Query {
  pipelineInitial(input: PipelineInitialInput!): PipelineInitialData!
  pipelineStage(input: PipelineStageInput!): PipelineStage!
  pipelineDeal(input: PipelineDealInput!): PipelineDeal!
}

type Mutation {
  createPipelineStage(input: CreatePipelineStageInput!): PipelineStage!
  updatePipelineStage(input: UpdatePipelineStageInput!): PipelineStage!
  removePipelineStage(input: RemovePipelineStageInput!): UUID!
  createPipelineDeal(input: CreatePipelineDealInput!): PipelineDeal!
  updatePipelineDeal(input: UpdatePipelineDealInput!): PipelineDeal!
  removePipelineDeal(input: RemovePipelineDealInput!): UUID!
}

type PipelineInitialData {
  id: ID!
  stages: [PipelineStage!]!
  deals: [PipelineDeal!]!
}

type PipelineDeal {
  id: UUID!
  orderKey: String!
  title: String!
  company: Company!
  stage: PipelineStage!
  value: Money!
  dealOwner: UserProfile!
  dealContact: Contact!
  createdAt: DateTime!
}

type PipelineStage {
  id: UUID!
  title: String!
}

input PipelineInitialInput {
  companyId: UUID!
}

input PipelineStageInput {
  stageId: UUID!
}

input PipelineDealInput {
  dealId: UUID!
}

input CreatePipelineStageInput {
  title: String!
}

input UpdatePipelineStageInput {
  id: UUID!
  title: String
}

input RemovePipelineStageInput {
  id: UUID!
}

input CreatePipelineDealInput {
  orderKey: String!
  title: String!
  company: UUID!
  stage: UUID!
  value: MoneyInput!
  dealOwner: UUID!
  dealContact: UUID!
}

input UpdatePipelineDealInput {
  id: UUID!
  orderKey: String
  title: String
  company: UUID
  stage: UUID
  value: MoneyInput
  dealOwner: UUID
  dealContact: UUID
}

input RemovePipelineDealInput {
  id: UUID!
}
