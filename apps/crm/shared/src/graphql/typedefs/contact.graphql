# eslint-disable @graphql-eslint/require-description
# lint-disable-line relay-page-info-spec
# lint-disable types-have-descriptions, fields-have-descriptions

type Query {
  contact(input: ContactInput!): ContactDetailed!
  contactsOverview(input: ContactsOverviewInput!): ContactsOverviewPaginated!
}

type Mutation {
  createContact(input: CreateContactInput!): Contact!
  updateContact(input: UpdateContactInput!): Contact!
  removeContact(input: RemoveContactInput!): UUID!
  createContactNote(input: CreateContactNoteInput!): ContactNotePayload!
  updateContactNote(input: UpdateContactNoteInput!): ContactNotePayload!
  removeContactNote(input: RemoveContactNoteInput!): UUID!
}

type Contact {
  id: UUID!
  firstName: String!
  lastName: String!
  email: EmailAddress!
  phone: String!
  company: Company!
  jobTitle: String!
  stage: ContactStage!
  timezone: TimeZone
}

type ContactDetailed {
  id: UUID!
  firstName: String!
  lastName: String!
  email: EmailAddress!
  phone: String!
  company: Company!
  jobTitle: String!
  stage: ContactStage!
  timezone: TimeZone!
  notes: [ContactNote!]!
}

type ContactOverview {
  id: UUID!
  firstName: String!
  lastName: String!
  email: EmailAddress!
  company: Company!
  jobTitle: String!
  stage: ContactStage!
}

type ContactNote {
  id: UUID!
  note: String!
  contact: Contact!
  createdAt: DateTime!
  createdBy: UserProfile!
}

type ContactAvatar {
  id: UUID!
  firstName: String!
  lastName: String!
  image: String
}

type ContactsOverviewPaginated {
  id: ID!
  items: [ContactOverview!]!
  totalCount: Int!
}

type ContactNotePayload {
  id: ID!
  contact: Contact!
  contactNote: ContactNote!
}

input ContactInput {
  id: UUID!
}

input ContactsOverviewInput {
  filters: ContactsOverviewFiltersInput
  sort: ContactsOverviewSortInput
  pagination: PaginationInput
}

input ContactsOverviewFiltersInput {
  searchContactName: String
  searchContactEmail: String
  searchCompanyName: String
  searchContactJobTitle: String
  searchContactStage: ContactStage
}

input ContactsOverviewSortInput {
  sort: [ContactOverviewSort]!
}

input ContactOverviewSort {
  field: ContactSortableField!
  direction: SortDirection
}

input CreateContactInput {
  firstName: String!
  lastName: String!
  email: EmailAddress!
  phone: String!
  company: UUID!
  jobTitle: String!
  stage: ContactStage!
  timezone: UUID
}

input UpdateContactInput {
  id: UUID!
  firstName: String
  lastName: String
  email: EmailAddress
  phone: String
  company: UUID
  jobTitle: String
  stage: ContactStage
  timezone: UUID
}

input RemoveContactInput {
  id: UUID!
}

input CreateContactNoteInput {
  contactId: UUID!
  note: String!
}

input RemoveContactNoteInput {
  id: UUID!
}

input UpdateContactNoteInput {
  contactId: UUID!
  contactNoteId: UUID!
  note: String
}

enum ContactStage {
  NEW
  CONTACTED
  INTERESTED
  UNQUALIFIED
  QUALIFIED
  NEGOTIATION
  LOST
  WON
  CHURNED
}

enum ContactSortableField {
  STATUS
}
